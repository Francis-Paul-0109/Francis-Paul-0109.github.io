---
layout: none
---

<!DOCTYPE html>
<html lang="ko">
<head>
  {% include head.html %}
  <style>
    /* 전체 body */
    body {
      margin: 0;
      padding: 0;
      font-family: "MyHeaderFont", sans-serif;
      overflow-x: hidden;
      transition: background 0.5s ease; /* 배경색 페이드 */
    }

    /* 좌측 고정 이미지 */
    .fixed-image {
      position: fixed;
      top: 50%;
      left: 5%;
      transform: translateY(-50%);
      width: 30%;
      max-width: 350px;
      z-index: 5;
      pointer-events: none;
    }

    .fixed-image img {
      width: 100%;
      border-radius: 8px;
      transition: opacity 1s ease-in-out;
    }

    /* 우측 스크롤 텍스트 */
    .scrolly-text {
      width: 65%;
      margin-left: 35%;
      padding-top: 2vh;
      padding-bottom: 4rem;
      font-size: 1.15rem;
      line-height: 1.7;
      white-space: pre-line;
      color: #37353E; /* 기본 텍스트 색상 */
    }

    /* 스텝 텍스트 페이드 */
    .step {
      opacity: 1; /* 기본은 뚜렷하게 표시 */
      margin-bottom: 4rem;
      transition: opacity 1s ease-out;
    }

    .step.fade-out {
      opacity: 0;
    }
  </style>
</head>

<body {% if page.background_color %}style="background-color: {{ page.background_color }};"{% endif %}>

  <!-- 좌측 고정 이미지 -->
  <div class="fixed-image">
    <img id="auto-img" src="/assets/images/post/1.기록에관해/1. github.png">
  </div>

  <!-- 우측 스크롤 본문, 포스트별 text_color 적용 -->
  <div class="scrolly-text" {% if page.text_color %}style="color: {{ page.text_color }};"{% endif %}>
    {{ content }}
  </div>

  <!-- JS: 이미지 페이드 + 텍스트 페이드 -->
  <script>
    const steps = document.querySelectorAll(".step");
    const img = document.getElementById("auto-img");
    let currentIndex = 0;

    // 초기 설정: 첫 번째 제외 나머지 fade-out 적용
    steps.forEach((step, i) => {
      if (i !== 0) step.classList.add("fade-out");
    });
    img.dataset.current = steps[0].dataset.img;

    // 스크롤 이벤트
    document.addEventListener("scroll", () => {
      let index = 0;
      steps.forEach((step, i) => {
        const rect = step.getBoundingClientRect();
        if (rect.top < window.innerHeight * 0.45) index = i;
      });

      if (index !== currentIndex) {
        // 이전 step fade out
        steps[currentIndex].classList.add("fade-out");

        // 새로운 step fade in
        steps[index].classList.remove("fade-out");

        // 이미지 변경 + 페이드
        const newImg = steps[index].dataset.img;
        if (img.dataset.current !== newImg) {
          img.dataset.current = newImg;
          img.style.opacity = 0;
          setTimeout(() => {
            img.src = `/assets/images/post/1.기록에관해/${newImg}`;
            img.style.opacity = 1;
          }, 500);
        }

        currentIndex = index;
      }
    });
  </script>

</body>
</html>
